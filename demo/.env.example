# ===== NEWS PLATFORM ENVIRONMENT VARIABLES =====
# Copy this file to .env and update the values as needed

# ===== APPLICATION SETTINGS =====
SPRING_APPLICATION_NAME=NewsReadingPlatform
SERVER_PORT=8080
SERVER_SERVLET_CONTEXT_PATH=/

# ===== DATABASE CONFIGURATION =====
# H2 Database (Default - for development/testing)
SPRING_DATASOURCE_URL=jdbc:h2:mem:newsdb;MODE=MySQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;DATABASE_TO_UPPER=false;CASE_INSENSITIVE_IDENTIFIERS=true
SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.h2.Driver
SPRING_DATASOURCE_USERNAME=sa
SPRING_DATASOURCE_PASSWORD=

# MySQL Database (Uncomment for production)
# SPRING_DATASOURCE_URL=jdbc:mysql://mysql:3306/newsplatform?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
# SPRING_DATASOURCE_DRIVER_CLASS_NAME=com.mysql.cj.jdbc.Driver
# SPRING_DATASOURCE_USERNAME=newsuser
# SPRING_DATASOURCE_PASSWORD=newspassword

# ===== JPA/HIBERNATE CONFIGURATION =====
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=false
SPRING_JPA_DATABASE_PLATFORM=org.hibernate.dialect.H2Dialect
SPRING_JPA_DEFER_DATASOURCE_INITIALIZATION=true

# For MySQL (uncomment when using MySQL)
# SPRING_JPA_DATABASE_PLATFORM=org.hibernate.dialect.MySQL8Dialect

# ===== DATABASE INITIALIZATION =====
SPRING_SQL_INIT_MODE=always
SPRING_SQL_INIT_PLATFORM=h2
SPRING_SQL_INIT_CONTINUE_ON_ERROR=true

# ===== H2 CONSOLE =====
SPRING_H2_CONSOLE_ENABLED=true
SPRING_H2_CONSOLE_PATH=/h2-console
SPRING_H2_CONSOLE_SETTINGS_WEB_ALLOW_OTHERS=false

# ===== CONNECTION POOL =====
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=5
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=20
SPRING_DATASOURCE_HIKARI_IDLE_TIMEOUT=300000
SPRING_DATASOURCE_HIKARI_MAX_LIFETIME=1200000
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=20000

# ===== CACHE CONFIGURATION =====
SPRING_CACHE_TYPE=caffeine
SPRING_CACHE_CAFFEINE_SPEC=maximumSize=1000,expireAfterWrite=3600s

# ===== THYMELEAF CONFIGURATION =====
SPRING_THYMELEAF_CACHE=false
SPRING_THYMELEAF_MODE=HTML
SPRING_THYMELEAF_ENCODING=UTF-8

# ===== LOGGING CONFIGURATION =====
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK=INFO
LOGGING_LEVEL_COM_EXAMPLE_DEMO=INFO
LOGGING_LEVEL_ORG_HIBERNATE_SQL=WARN

# ===== SERVER CONFIGURATION =====
SERVER_ERROR_INCLUDE_STACKTRACE=never
SERVER_ERROR_INCLUDE_MESSAGE=always
SERVER_COMPRESSION_ENABLED=true

# ===== ACTUATOR CONFIGURATION =====
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when_authorized

# ===== NEWSAPI CONFIGURATION =====
# IMPORTANT: Replace with your actual NewsAPI key
NEWSAPI_API_KEY=e38422f6dd594bf5986fae6d858a1d3c
NEWSAPI_BASE_URL=https://newsapi.org/v2
NEWSAPI_PAGE_SIZE=20
NEWSAPI_LANGUAGE=en
NEWSAPI_COUNTRY=us

# ===== SECURITY CONFIGURATION =====
SPRING_SECURITY_CSRF_ENABLED=false
SPRING_SECURITY_HEADERS_FRAME_OPTIONS=SAMEORIGIN
SPRING_SECURITY_USER_NAME=admin
SPRING_SECURITY_USER_PASSWORD={noop}admin123
SPRING_SECURITY_USER_ROLES=ADMIN

# ===== JVM CONFIGURATION =====
JAVA_OPTS=-Xmx512m -Xms256m -XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0

# ===== PRODUCTION OVERRIDES =====
# Uncomment these for production deployment
# SPRING_PROFILES_ACTIVE=prod
# SPRING_JPA_SHOW_SQL=false
# SPRING_THYMELEAF_CACHE=true
# LOGGING_LEVEL_COM_EXAMPLE_DEMO=WARN
# SPRING_H2_CONSOLE_ENABLED=false
